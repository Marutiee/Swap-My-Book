<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard - SwapShelf</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>


    <style>
        body {
            display: flex;
            min-height: 100vh;
        }
        .sidebar {
            width: 220px;
            background-color: #343a40;
            color: white;
        }
        .sidebar a {
            color: white;
            display: block;
            padding: 15px;
            text-decoration: none;
        }
        .sidebar a:hover {
            background-color: #495057;
        }
        .content {
            flex: 1;
            padding: 40px;
        }
        .card-header {
            background-color: #0d6efd;
            color: white;
        }

    .sidebar a.active {
        background-color: #0d6efd;
        font-weight: bold;
    }
        #book-table tbody tr {
        cursor: pointer;
        transition: background-color 0.2s ease;
    }
    #book-table tbody tr:hover {
        background-color: #f1f3f5;
    }

        body { display: flex; min-height: 100vh; }
        .sidebar { width: 220px; background-color: #343a40; color: white; }
        .sidebar a { color: white; display: block; padding: 15px; text-decoration: none; }
        .sidebar a:hover { background-color: #495057; }
        .content { flex: 1; padding: 40px; }
        .sidebar a.active { background-color: #0d6efd; font-weight: bold; }

    </style>
</head>
<body>
<div class="sidebar">
    <h4 class="text-center py-3">Admin Menu</h4>
    <a href="/admin/dashboard" id="home">ğŸ  Home</a>
    <a href="/admin/dashboard/all-users" id="users">ğŸ‘¥ Users</a>
    <a href="/admin/dashboard/all-books" id="books">ğŸ“š Books</a>
    <a href="/admin/dashboard/all-exchange-request" id="exchange-request">ğŸ”„ Exchange Requests</a>
</div>



<div class="content">

    <h2 class="text-center mb-5">ğŸ‘¨â€ğŸ’¼ Admin Dashboard</h2>

    <!-- âœ… DataTable for Books -->
    <div id="exchange-section" class="table-responsive section">
        <table id="exchange-table" class="table table-striped">
            <thead>
            <tr><th>ID</th><th>Requester</th><th>Requested Book</th><th>Return Book</th><th>Status</th><th>Time</th></tr>
            </thead>
        </table>
    </div>

    <!-- Book Details Modal -->
</div>

<script>
    $(document).ready(function () {
     $('#exchange-table').DataTable({
         ajax: {
             url: '/admin/dashboard/exchange-request', // Your backend URL
             dataSrc: ''
         },
         columns: [
             { data: 'id' },
             {
                 data: 'requester',
                 render: function (data) {
                     return data.firstName + ' ' + data.lastName;
                 }
             },
             { data: 'book.title' },
             {
                 data: 'requestedExchangeBook',
                 render: function (data) {
                     return data ? data.title : 'â€”';
                 }
             },
             { data: 'status' },
             {
                 data: 'createdAt',
                 render: function (data) {
                     return new Date(data).toLocaleString();
                 }
             }
         ]
     });
 });









</script>

    <script src="/js/index.js"></script>
</body>
</html>